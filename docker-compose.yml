services:
  collaboratorium:
    build: .
    image: collaboratorium:latest
    ports:
      - "8050:8050"
    volumes:
      # Bind-mount the host database file into the container so data persists
      - ./database.db:/app/database.db
      - ./analytics.db:/app/analytics.db
      # Also mount schema so container and host share the same schema file
      - ./schema.dbml:/app/schema.dbml:ro
      - ./.env:/app/.env
    restart: unless-stopped
